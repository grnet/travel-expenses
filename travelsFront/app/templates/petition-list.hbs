{{page-toolbar pageTitle=(t "petition_list.title")}}
  
{{#if (or (can "approve petition") (can "compensate petition") (can "managerApprove petition") (can "presidentApprove petition"))}}

  {{list-filter filters=filters updateFilters=(action 'setFilters')}}

  {{#paper-data-table as |table|}}
      {{#table.head as |head|}}
          {{#head.column class="link-tab"}}{{#paper-button raised=true primary=true onClick=(transition-to "userPetition" "new") bubbles=false }}Νεα Αιτηση{{/paper-button}}{{/head.column}}
          {{#head.column}}ΔΣΕ{{/head.column}}
          {{#head.column}}Όνομα{{/head.column}}
          {{#head.column}}Επώνυμο{{/head.column}}
          {{#head.column}}Έργο{{/head.column}}
          {{#head.column}}Προορισμός{{/head.column}}
          {{#head.column}}Ημ/νία Δημιουργίας{{/head.column}}
          {{#head.column}}Τελευταία ανανέωση{{/head.column}}
          {{#head.column}}Ημ/νία Αναχώρησης{{/head.column}}
          {{#head.column}}Ημ/νία Επιστροφής{{/head.column}}
          {{#head.column}}Κατάσταση{{/head.column}}
          {{#head.column}}Συνολικό Κόστος{{/head.column}}
      {{/table.head}}
      {{#table.body as |body|}}
        {{#each paginatedModel as |petition|}}
          {{#if petition.project.name}}
            {{petition-listing  petition=petition
              del="petitionDelete" 
              edit="petitionEdit" 
              undo="petitionUndo" 
              view="petitionView" 
              pdf="pdfExport" 
              approve="presidentApproval"
              managerApproval="managerApproval"
              managerCostApproval="managerCostApproval"
              withdraw="petitionWithdraw"
              withdrawCancel="petitionWithdrawCancel"
              wrapper=body.row}}
          {{/if}}
        {{/each}}
      {{/table.body}}
  {{/paper-data-table}}
  {{paper-data-table-pagination
    limit=limit
    limitOptions=limitOptions
    page=page
    pages=pages
    onChangePage=(action (mut page))
    onChangeLimit=(action (mut limit))
    onIncrementPage=(action 'incrementPage')
    onDecrementPage=(action 'decrementPage')
  }}
{{else if (can "view petition")}}
  {{list-filter filters=filters updateFilters=(action 'setFilters')}}

  {{#paper-data-table as |table|}}
      {{#table.head as |head|}}
          {{#head.column}}{{/head.column}}
          {{#head.column}}ΔΣΕ{{/head.column}}
          {{#head.column}}Όνομα{{/head.column}}
          {{#head.column}}Επώνυμο{{/head.column}}
          {{#head.column}}Έργο{{/head.column}}
          {{#head.column}}Προορισμός{{/head.column}}
          {{#head.column}}Ημ/νία Δημιουργίας{{/head.column}}
          {{#head.column}}Τελευταία ανανέωση{{/head.column}}
          {{#head.column}}Ημ/νία Αναχώρησης{{/head.column}}
          {{#head.column}}Ημ/νία Επιστροφής{{/head.column}}
          {{#head.column}}Κατάσταση{{/head.column}}
          {{#head.column}}Συνολικό Κόστος{{/head.column}}
      {{/table.head}}
      {{#table.body as |body|}}
        {{#each paginatedModel as |petition|}}
          {{#if petition.project.name}}
            {{petition-listing  petition=petition
              wrapper=body.row}}
          {{/if}}
        {{/each}}
      {{/table.body}}
  {{/paper-data-table}}
  {{paper-data-table-pagination
    limit=limit
    limitOptions=limitOptions
    page=page
    pages=pages
    onChangePage=(action (mut page))
    onChangeLimit=(action (mut limit))
    onIncrementPage=(action 'incrementPage')
    onDecrementPage=(action 'decrementPage')
  }}
{{else}}
  {{#paper-data-table as |table|}}
      {{#table.head as |head|}}
          {{#head.column class="link-tab"}}{{#paper-button raised=true primary=true onClick=(transition-to "userPetition" "new") bubbles=false }}Νεα Αιτηση{{/paper-button}}{{/head.column}}
          {{#head.column}}ΔΣΕ{{/head.column}}
          {{#head.column}}Όνομα{{/head.column}}
          {{#head.column}}Επώνυμο{{/head.column}}
          {{#head.column}}Έργο{{/head.column}}
          {{#head.column}}Προορισμός{{/head.column}}
          {{#head.column}}Ημ/νία Δημιουργίας{{/head.column}}
          {{#head.column}}Τελευταία ανανέωση{{/head.column}}
          {{#head.column}}Ημ/νία Αναχώρησης{{/head.column}}
          {{#head.column}}Ημ/νία Επιστροφής{{/head.column}}
          {{#head.column}}Κατάσταση{{/head.column}}
          {{#head.column}}Συνολικό Κόστος{{/head.column}}
    {{/table.head}}
    {{#table.body as |body|}}
      {{#each paginatedModel as |petition|}}
        {{#if petition.project.name}}
          {{petition-listing petition=petition 
            del="petitionDelete"
            edit="petitionEdit"
            undo="petitionUndo"
            view="petitionView"
            pdf="pdfExport"
            approve="presidentApproval"
            wrapper=body.row}}
        {{/if}}
      {{/each}}
    {{/table.body}}
  {{/paper-data-table}}
  {{paper-data-table-pagination
    limit=limit
    limitOptions=limitOptions
    page=page
    pages=pages
    onChangePage=(action (mut page))
    onChangeLimit=(action (mut limit))
    onIncrementPage=(action 'incrementPage')
    onDecrementPage=(action 'decrementPage')
  }}
{{/if}}
